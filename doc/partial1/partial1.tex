
%----------------------------------------------------------------------------------------
%	PACKAGES AND DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[a4paper]{article} %Article class
\usepackage[utf8]{inputenc} %utf-8 Encoding
\usepackage{graphicx} % Required for the inclusion of images
\graphicspath{{Figures/}} % Set the default folder for images
\usepackage{amsmath} % Required for some math elements 
\usepackage[english]{babel} % Language 
\setlength\parindent{0pt} % Removes all indentation from paragraphs
\usepackage{xcolor}	
\usepackage{listings} %Requiered for code inclusion
\renewcommand{\labelenumi}{\alph{enumi}.} % Make numbering in the enumerate environment by letter rather than number (e.g. section 6)
\usepackage[
backend=biber,
style=alphabetic,
sorting=ynt
]{biblatex}
\addbibresource{sample.bib}

\usepackage{color}
\lstset{ %
	language=R,                     % the language of the code
	basicstyle=\footnotesize,       % the size of the fonts that are used for the code
	numbers=left,                   % where to put the line-numbers
	numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
	stepnumber=1,                   % the step between two line-numbers. If it's 1, each line
	% will be numbered
	numbersep=5pt,                  % how far the line-numbers are from the code
	backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
	showspaces=false,               % show spaces adding particular underscores
	showstringspaces=false,         % underline spaces within strings
	showtabs=false,                 % show tabs within strings adding particular underscores
	frame=single,                   % adds a frame around the code
	rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
	tabsize=2,                      % sets default tabsize to 2 spaces
	captionpos=b,                   % sets the caption-position to bottom
	breaklines=true,                % sets automatic line breaking
	breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
	title=\lstname,                 % show the filename of files included with \lstinputlisting;
	% also try caption instead of title
	keywordstyle=\color{blue},      % keyword style
	commentstyle=\color{dkgreen},   % comment style
	stringstyle=\color{mauve},      % string literal style
	escapeinside={\%*}{*)},         % if you want to add a comment within your code
	morekeywords={*,...},
	% if you want to add more keywords to the set
	alsoletter={.}        % if you want to add more keywords to the set
} 

%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Network Intruder Detection \\
\large APA Practical Work \\
Universitat Politècnica de Barcelona} % Title
\author{Lluc Bové \& Aleix Trasserra} % Author name

\date{Q1 2016-17}

\begin{document}

\maketitle % Insert the title, author and date


%----------------------------------------------------------------------------------------
%	SECTION 1
%----------------------------------------------------------------------------------------

\section{Introduction}
\subsection{The data}
%----------------------------------------------------------------------------------------
%	SECTION 2
%----------------------------------------------------------------------------------------

\section{Related Work}

%----------------------------------------------------------------------------------------
%	SECTION 3
%----------------------------------------------------------------------------------------

\section{Data Exploration Process}
In this section we will take a first look to our data, in order to know what are we going to analyse. First we'll preprocess it, this includes detecting outliers, missing values... And deleting them. Then we are going to perform a feature extraction and selection. This consists in deleting variables that aren't necessary and deriving new ones. Then we'll visualize our data using FDA and finally we'll do a clustering. All this process can be followed using the script provided called \textit{dataExploration.R}.\\

\subsection{Preprocessing}
The original data has two forms. The first one has a dimension of 5 million rows approximately and the other is a reduction of 10\%. We assured that this purge didn't affect the proportion of less used attack types, and it didn't, so from now on we will work with this reduction.\\

First of all when we analyse our dataset we see that variables have no name, so we name them. Then we execute \lstinline|summary| to detect abnormal things on our data, like strange means, medians, extreme values, errors... So we first realize that our categorical variables aren't factors, and they have no text. To solve this first we declare all categorical as factors and we use \lstinline|TRUE| and \lstinline|FALSE| for boolean ones, and we use names for the others. We realize that some variables do not vary so we delete them. We detected an error with a boolean factor, it had missing values so we deleted the rows.


\subsection{Feature extraction/selection}
First we need to define the target variable. We decide to use the main attack in the network. This is a category for each attack type. The variable is defined as table \ref{table:main} shows. 
\begin{table}
	\begin{tabular}{ll}
		Main Attack & Attack Type                                                            \\ \hline
		DOS         & back, land, neptune, smurf, teardrop                                       \\
		U2R         & buffer overflow, loadmodule, perl, rootkit                               \\
		R2L         & ftp\_write, guess password, imap, multihop, phf, spy, warezclient, warezmaster \\
		probe       & ipsweep, nmap, portsweep, satan                                           \\
		normal      & normal                                                                 \\
	\end{tabular}
	\caption{This table shows the main attack classification}
	\label{table:main}
	
\end{table}
Now we have this categorization so we don't need attack type any more but we save it because it may be a useful alternative target respect main attack. 


\subsection{Descriptive Analysis}
We'll proceed to do a descriptive analysis of our data. To make our graphs more beautiful we use \textit{ggplot2}\cite{ggplot}. For every numerical variable we do a histogram and a boxplot. We realize that most variables don't have any.
\subsection{Visualization}
\subsection{Clustering}


\medskip
%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\printbibliography

%----------------------------------------------------------------------------------------


\end{document}